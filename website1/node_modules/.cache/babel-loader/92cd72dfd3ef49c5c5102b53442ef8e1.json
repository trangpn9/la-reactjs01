{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar createConfirmation = function createConfirmation(Component) {\n  var unmountDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n  var mountingNode = arguments[2];\n  return function (props) {\n    var wrapper = (mountingNode || document.body).appendChild(document.createElement('div'));\n    var promise = new Promise(function (resolve, reject) {\n      try {\n        _reactDom2.default.render(_react2.default.createElement(Component, _extends({\n          reject: reject,\n          resolve: resolve,\n          dispose: dispose\n        }, props)), wrapper);\n      } catch (e) {\n        console.error(e);\n        throw e;\n      }\n    });\n\n    function dispose() {\n      setTimeout(function () {\n        _reactDom2.default.unmountComponentAtNode(wrapper);\n\n        setTimeout(function () {\n          return document.body.removeChild(wrapper);\n        });\n      }, unmountDelay);\n    }\n\n    return promise.then(function (result) {\n      dispose();\n      return result;\n    }, function (result) {\n      dispose();\n      return Promise.reject(result);\n    });\n  };\n};\n\nexports.default = createConfirmation;","map":null,"metadata":{},"sourceType":"script"}